<!DOCTYPE html>
<html>
    <head>
        <title>PHP模板类</title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
 <link href="style.css" rel="stylesheet" type="text/css" />        <meta name="keywords" content="PHP模板类,Rong Framework" />
        <meta name="description" content="PHP模板类,Rong Framework" />
    </head>
    <body>
        <div class="Page">
            <div class="top">
    <div class="rf">Rong Framework</div>
</div>            <div class="content"> 
                <div>
                    <a href="index.html">目录</a>
                </div>
                
                 <div class="ctrl">
                    上一页:
                                        没有了                    
                    &nbsp;
                    <a href="index.html">目录</a>
                    &nbsp;
                    下一页 :
                                        <a href="Rong.View.Wudimei.html">Wudimei模板引擎</a>
                                    </div> 
                <h3>PHP模板类</h3>
                <h1>视图</h1>

<p><span class="title1">一、在控制器中设置视图变</span>量</p><p>1.1 使用php做为模板语言：<br><div class="code"  ><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">/**<br />&nbsp;*&nbsp;file&nbsp;encoding&nbsp;utf-8<br />&nbsp;*&nbsp;文件字符编码utf-8<br />&nbsp;*/<br /></span><span style="color: #0000BB">$PathToRongFramework&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">dirname</span><span style="color: #007700">(</span><span style="color: #0000BB">__FILE__</span><span style="color: #007700">).</span><span style="color: #DD0000">"/../../lib"</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">set_include_path</span><span style="color: #007700">(&nbsp;&nbsp;</span><span style="color: #DD0000">"."&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">PATH_SEPARATOR&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$PathToRongFramework&nbsp;</span><span style="color: #007700">.&nbsp;&nbsp;</span><span style="color: #0000BB">PATH_SEPARATOR&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">get_include_path</span><span style="color: #007700">()&nbsp;);<br /><br />require_once&nbsp;</span><span style="color: #DD0000">'Rong/View.php'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$view&nbsp;</span><span style="color: #007700">=&nbsp;&nbsp;</span><span style="color: #0000BB">Rong_View</span><span style="color: #007700">::</span><span style="color: #0000BB">factory</span><span style="color: #007700">(</span><span style="color: #DD0000">"PHP"</span><span style="color: #007700">,array());<br /></span><span style="color: #0000BB">$view</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setViewsDirectory</span><span style="color: #007700">(&nbsp;</span><span style="color: #0000BB">dirname</span><span style="color: #007700">(</span><span style="color: #0000BB">__FILE__</span><span style="color: #007700">)&nbsp;.&nbsp;</span><span style="color: #DD0000">"/template_php"</span><span style="color: #007700">);</span></span></code></div><br>1.2 设置模板变量<br><div class="code"  ><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php&nbsp;<br />$view</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">assign</span><span style="color: #007700">(</span><span style="color: #DD0000">"name"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"Yang&nbsp;Qing-rong"</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$friends&nbsp;</span><span style="color: #007700">=&nbsp;array(<br />&nbsp;array(<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"id"&nbsp;</span><span style="color: #007700">=&gt;</span><span style="color: #0000BB">1</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"name"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">"sun&nbsp;wu&nbsp;kong"<br />&nbsp;</span><span style="color: #007700">),<br />&nbsp;array(<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"id"&nbsp;</span><span style="color: #007700">=&gt;</span><span style="color: #0000BB">2</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"name"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">"zhu&nbsp;ba&nbsp;jie"<br />&nbsp;</span><span style="color: #007700">),<br />&nbsp;<br />);<br /></span><span style="color: #0000BB">$view</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">assign</span><span style="color: #007700">(</span><span style="color: #DD0000">"friends"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$friends</span><span style="color: #007700">);</span></span></code></div></p><p>1.3 显示视图<br><div class="code"  ><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php&nbsp;<br />$view</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">display</span><span style="color: #007700">(</span><span style="color: #DD0000">"article/index.php"</span><span style="color: #007700">);</span></span></code></div><br></p>

<p><b>View::display( $tpl , $data , $returnHtml );</b><br>
$tpl : 是<strong>模板文件</strong>。<br>
$data : 数据数组，用来放到<strong>模板</strong>中的。<br>
$returnHtml : 是询问是否返回html代码，如果为false，则直接输出html代码。</p><p><br>1.4 视图文件：<br><div class="code"  ><code><span style="color: #000000">My&nbsp;Name&nbsp;is&nbsp;:<span style="color: #0000BB">&lt;?php&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$name</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">?&gt;<br /></span><br />&lt;h3&gt;friends&lt;/h3&gt;<br /><br /><span style="color: #0000BB">&lt;?php&nbsp;</span><span style="color: #007700">for(&nbsp;</span><span style="color: #0000BB">$i</span><span style="color: #007700">=</span><span style="color: #0000BB">0</span><span style="color: #007700">;</span><span style="color: #0000BB">$i</span><span style="color: #007700">&lt;&nbsp;</span><span style="color: #0000BB">count</span><span style="color: #007700">(</span><span style="color: #0000BB">$friends</span><span style="color: #007700">);&nbsp;</span><span style="color: #0000BB">$i</span><span style="color: #007700">++&nbsp;):&nbsp;</span><span style="color: #0000BB">?&gt;<br /></span>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000BB">&lt;?php&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$friends</span><span style="color: #007700">[</span><span style="color: #0000BB">$i</span><span style="color: #007700">][</span><span style="color: #DD0000">"id"</span><span style="color: #007700">];&nbsp;</span><span style="color: #0000BB">?&gt;</span>&nbsp;,&nbsp;<span style="color: #0000BB">&lt;?php&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$friends</span><span style="color: #007700">[</span><span style="color: #0000BB">$i</span><span style="color: #007700">][</span><span style="color: #DD0000">"name"</span><span style="color: #007700">];&nbsp;</span><span style="color: #0000BB">?&gt;</span>&nbsp;&lt;br&nbsp;/&gt;<br /><span style="color: #0000BB">&lt;?php&nbsp;</span><span style="color: #007700">endfor;&nbsp;</span><span style="color: #0000BB">?&gt;</span></span></code></div><br>1.5 在创建好Rong_View对象后可以缓存页面。<br><div class="code"  ><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br />$view</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">cache</span><span style="color: #007700">(&nbsp;&nbsp;</span><span style="color: #0000BB">dirname</span><span style="color: #007700">(</span><span style="color: #0000BB">__FILE__</span><span style="color: #007700">)&nbsp;.</span><span style="color: #DD0000">"/template_php/view_cache/cache1.php"&nbsp;</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">30&nbsp;&nbsp;</span><span style="color: #007700">);</span></span></code></div><br>它的cache方法有两个参数，第一个是要缓存页面的文件名，第二个是保存时间，单位是秒。</p><p>
<span class="title1">二、视图文件</span><br>
<br>其中的变量是从上面assign语句中转化而来的。<br>
比如 <strong>视图</strong>中的 $name 对应assign中的名为"name"变量。这点应该不难理解。</p>

<p>public static View::assign( string $varName , mixed $data );<br>
设置<strong>视图</strong>变量。<br>
$varName 要设置的变量名。<br>
$data 变量名对应的数据。</p>

<p><span class="&quot;title1&quot;">&nbsp;</span><br>
</p>















                <div class="ctrl">
                    上一页:
                                        没有了                    
                    &nbsp;
                    <a href="index.html">目录</a>
                    &nbsp;
                    下一页 :
                                        <a href="Rong.View.Wudimei.html">Wudimei模板引擎</a>
                                    </div> 
            </div>
            <div class="bottom">
 要获取最新的Rong Framework,请访问<a href="http://rong.wudimei.com" target="_balnk">http://rong.wudimei.com</a></div>  
        </div>
    </body>
</html>