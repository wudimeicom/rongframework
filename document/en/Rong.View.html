<!DOCTYPE html>
<html>
    <head>
        <title>php template class</title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
 <link href="style.css" rel="stylesheet" type="text/css" />        <meta name="keywords" content="php template class,Rong Framework" />
        <meta name="description" content="php template class,Rong Framework" />
    </head>
    <body>
        <div class="Page">
            <div class="top">
    <div class="rf">Rong Framework</div>
</div>            <div class="content"> 
                <div>
                    <a href="index.html">Table Of Contents</a>
                </div>
                
                 <div class="ctrl">
                    Prev Page:
                                        None                    
                    &nbsp;
                    <a href="index.html">Table Of Contents</a>
                    &nbsp;
                    Next Page :
                                        <a href="Rong.View.Wudimei.html">Wudimei Template Engine</a>
                                    </div> 
                <h3>php template class</h3>
                <h1>view<br></h1>

<p><span class="title1">1.create view</span></p><p>1.1 create a view using php language:<br><div class="code"  ><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">/**<br />&nbsp;*&nbsp;file&nbsp;encoding&nbsp;utf-8<br />&nbsp;*&nbsp;文件字符编码utf-8<br />&nbsp;*/<br /></span><span style="color: #0000BB">$PathToRongFramework&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">dirname</span><span style="color: #007700">(</span><span style="color: #0000BB">__FILE__</span><span style="color: #007700">).</span><span style="color: #DD0000">"/../../lib"</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">set_include_path</span><span style="color: #007700">(&nbsp;&nbsp;</span><span style="color: #DD0000">"."&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">PATH_SEPARATOR&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$PathToRongFramework&nbsp;</span><span style="color: #007700">.&nbsp;&nbsp;</span><span style="color: #0000BB">PATH_SEPARATOR&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">get_include_path</span><span style="color: #007700">()&nbsp;);<br /><br />require_once&nbsp;</span><span style="color: #DD0000">'Rong/View.php'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$view&nbsp;</span><span style="color: #007700">=&nbsp;&nbsp;</span><span style="color: #0000BB">Rong_View</span><span style="color: #007700">::</span><span style="color: #0000BB">factory</span><span style="color: #007700">(</span><span style="color: #DD0000">"PHP"</span><span style="color: #007700">,array());<br /></span><span style="color: #0000BB">$view</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setViewsDirectory</span><span style="color: #007700">(&nbsp;</span><span style="color: #0000BB">dirname</span><span style="color: #007700">(</span><span style="color: #0000BB">__FILE__</span><span style="color: #007700">)&nbsp;.&nbsp;</span><span style="color: #DD0000">"/template_php"</span><span style="color: #007700">);</span></span></code></div><br>1.2 setting template variables<br><div class="code"  ><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php&nbsp;<br />$view</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">assign</span><span style="color: #007700">(</span><span style="color: #DD0000">"name"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"Yang&nbsp;Qing-rong"</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$friends&nbsp;</span><span style="color: #007700">=&nbsp;array(<br />&nbsp;array(<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"id"&nbsp;</span><span style="color: #007700">=&gt;</span><span style="color: #0000BB">1</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"name"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">"sun&nbsp;wu&nbsp;kong"<br />&nbsp;</span><span style="color: #007700">),<br />&nbsp;array(<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"id"&nbsp;</span><span style="color: #007700">=&gt;</span><span style="color: #0000BB">2</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"name"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">"zhu&nbsp;ba&nbsp;jie"<br />&nbsp;</span><span style="color: #007700">),<br />&nbsp;<br />);<br /></span><span style="color: #0000BB">$view</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">assign</span><span style="color: #007700">(</span><span style="color: #DD0000">"friends"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$friends</span><span style="color: #007700">);</span></span></code></div></p><p>1.3 display view<br><div class="code"  ><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php&nbsp;<br />$view</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">display</span><span style="color: #007700">(</span><span style="color: #DD0000">"article/index.php"</span><span style="color: #007700">);</span></span></code></div><br></p>

<p><b>View::display( $tpl , $data , $returnHtml );</b><br>
$tpl : template file path.<br>
$data : data array <br>
$returnHtml : boolean,if true,return html string,else display the html.<br></p><p><br>1.4 view content:(test/template_php/article/index.php)<br><div class="code"  ><code><span style="color: #000000">My&nbsp;Name&nbsp;is&nbsp;:<span style="color: #0000BB">&lt;?php&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$name</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">?&gt;<br /></span><br />&lt;h3&gt;friends&lt;/h3&gt;<br /><br /><span style="color: #0000BB">&lt;?php&nbsp;</span><span style="color: #007700">for(&nbsp;</span><span style="color: #0000BB">$i</span><span style="color: #007700">=</span><span style="color: #0000BB">0</span><span style="color: #007700">;</span><span style="color: #0000BB">$i</span><span style="color: #007700">&lt;&nbsp;</span><span style="color: #0000BB">count</span><span style="color: #007700">(</span><span style="color: #0000BB">$friends</span><span style="color: #007700">);&nbsp;</span><span style="color: #0000BB">$i</span><span style="color: #007700">++&nbsp;):&nbsp;</span><span style="color: #0000BB">?&gt;<br /></span>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000BB">&lt;?php&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$friends</span><span style="color: #007700">[</span><span style="color: #0000BB">$i</span><span style="color: #007700">][</span><span style="color: #DD0000">"id"</span><span style="color: #007700">];&nbsp;</span><span style="color: #0000BB">?&gt;</span>&nbsp;,&nbsp;<span style="color: #0000BB">&lt;?php&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$friends</span><span style="color: #007700">[</span><span style="color: #0000BB">$i</span><span style="color: #007700">][</span><span style="color: #DD0000">"name"</span><span style="color: #007700">];&nbsp;</span><span style="color: #0000BB">?&gt;</span>&nbsp;&lt;br&nbsp;/&gt;<br /><span style="color: #0000BB">&lt;?php&nbsp;</span><span style="color: #007700">endfor;&nbsp;</span><span style="color: #0000BB">?&gt;</span></span></code></div><br>1.5 after create instance of Rong_View,we can cache view last for N seconds.<br><div class="code"  ><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br />$view</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">cache</span><span style="color: #007700">(&nbsp;&nbsp;</span><span style="color: #0000BB">dirname</span><span style="color: #007700">(</span><span style="color: #0000BB">__FILE__</span><span style="color: #007700">)&nbsp;.</span><span style="color: #DD0000">"/template_php/view_cache/cache1.php"&nbsp;</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">30&nbsp;&nbsp;</span><span style="color: #007700">);</span></span></code></div><br>the cache() method has tow parammeters,first one is the cache file path ,the seconds one is the expire time from now on(seconds)<br>
<br>
<br>the variable in the view file is assigned by we before.<br>
</p>

<p>public static View::assign( string $varName , mixed $data );<br>
setting template variable<br>
$varName template variable name<br>
$data template variable's value<br></p>

<p><span class="&quot;title1&quot;"><br></span></p>















                <div class="ctrl">
                    Prev Page:
                                        None                    
                    &nbsp;
                    <a href="index.html">Table Of Contents</a>
                    &nbsp;
                    Next Page :
                                        <a href="Rong.View.Wudimei.html">Wudimei Template Engine</a>
                                    </div> 
            </div>
            <div class="bottom">
 To get the last version of Rong Framework.please vist <a href="http://rong.wudimei.com" target="_balnk">http://rong.wudimei.com</a></div>  
        </div>
    </body>
</html>